{"version":3,"sources":["redditapi.js","index.js"],"names":["search","searchTerm","searchLimit","sortBy","fetch","then","res","json","data","children","map","catch","err","console","log","searchForm","document","getElementById","searchInput","addEventListener","e","value","querySelector","showMessage","reddit","results","output","forEach","post","image","preview","images","source","url","title","truncateText","selftext","innerHTML","preventDefault","message","className","div","createElement","appendChild","createTextNode","searchContainer","insertBefore","setTimeout","remove","text","limit","shortened","indexOf","substring"],"mappings":";;ACAA;;;;AAEA,IAAMe,UAAU,CDFD,ECEIC,QAAQ,CAACC,cAAT,CAAwB,aAAxB,CAAnB;AACA,ADFIjB,EAAAA,ECEEkB,IDFI,EAAE,KCEK,GAAGF,QAAQ,ADFPf,CCEQgB,SDFjB,EAAqBf,GCEb,CAAwB,ODFhC,EAAiCC,KCEzB,CAApB,ADFY,ECIZ,ADJqD;AAC7C;ACIRY,ADFQ,UCEE,CAACI,ADFIf,KAAK,WCEpB,CAA4B,QAA5B,EAAsC,UAAAgB,CAAC,EACvC,aDH6DnB,UAAzC,mBAA4DE,MAA5D,oBAA4ED,WAA5E,EAAL,CACNG,IADM,CACD,UAAAC,GAAG;ACGb,ADHa,aAAIA,GAAG,CAACC,IAAJ,EAAJ;ACIb,ADJa,KADF,CCKLN,CDHDI,IAFM,CAED,ICGM,GAAGa,GDHTV,IAAI,ICGgB,CAACa,KAA/B,CAFJ,CAGI;AACA,ADLc,aAAIb,IAAI,CAACA,IAAL,CAAUC,QAAV,CAAmBC,GAAnB,CAAuB,UAAAF,IAAI;AAAA,eAAIA,IAAI,CAACA,IAAT;ACM7C,ADN6C,MCMvCL,CDNY,CAAJ,ICMF,GAAGa,QAAQ,CAACM,aAAT,CAAuB,8BAAvB,EAAuDD,KAAtE,CALJ,CAMI;AACA,ADRc,KAFH,EAGNV,KAHM,CAGA,UAAAC,GAAG;AAAA,aAAIC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAAJ;ACQd,ADRc,KAHH,CCWLV,ADXF,WCWa,GAAGc,QAAQ,CAACC,cAAT,CAAwB,OAAxB,EAAiCI,KAArD,CARJ,CASI;AAEA,ADVC;AARU;ACmBX,MAAGpB,UAAU,KAAK,EAAlB,EAAsB;AAClB;AACAsB,IAAAA,WAAW,CAAC,0BAAD,EAA6B,cAA7B,CAAX;AACH,GAfL,CAiBI;;;AACAL,EAAAA,WAAW,CAACG,KAAZ,GAAoB,EAApB,CAlBJ,CAoBI;;AACAG,qBAAOxB,MAAP,CAAcC,UAAd,EAA0BC,WAA1B,EAAuCC,MAAvC,EAA+CE,IAA/C,CACC,UAAAoB,OAAO,EAAI;AACJZ,IAAAA,OAAO,CAACC,GAAR,CAAYW,OAAZ;AACA,QAAIC,MAAM,GAAG,8BAAb,CAFI,CAGJ;;AACAD,IAAAA,OAAO,CAACE,OAAR,CAAgB,UAAAC,IAAI,EAAI;AACpB;AACA,UAAMC,KAAK,GAAGD,IAAI,CAACE,OAAL,GAAeF,IAAI,CAACE,OAAL,CAAaC,MAAb,CAAoB,CAApB,EAAuBC,MAAvB,CAA8BC,GAA7C,GAAmD,2EAAjE;AACAP,MAAAA,MAAM,4GAE+BG,KAF/B,yIAI2BD,IAAI,CAACM,KAJhC,uEAK6BC,YAAY,CAACP,IAAI,CAACQ,QAAN,EAAgB,GAAhB,CALzC,yDAMiBR,IAAI,CAACK,GANtB,2IAAN;AAUH,KAbD;AAcAP,IAAAA,MAAM,IAAI,QAAV;AACAV,IAAAA,QAAQ,CAACC,cAAT,CAAwB,SAAxB,EAAmCoB,SAAnC,GAA+CX,MAA/C;AACH,GArBL;;AAuBAN,EAAAA,CAAC,CAACkB,cAAF;AACH,CA9CD,GAgDA;;AAEA,SAASf,WAAT,CAAqBgB,OAArB,EAA8BC,SAA9B,EAAwC;AACpC;AACA,MAAMC,GAAG,GAAGzB,QAAQ,CAAC0B,aAAT,CAAuB,KAAvB,CAAZ,CAFoC,CAGpC;;AACAD,EAAAA,GAAG,CAACD,SAAJ,mBAAyBA,SAAzB,EAJoC,CAKpC;;AACAC,EAAAA,GAAG,CAACE,WAAJ,CAAgB3B,QAAQ,CAAC4B,cAAT,CAAwBL,OAAxB,CAAhB,EANoC,CAOpC;;AACA,MAAMM,eAAe,GAAG7B,QAAQ,CAACC,cAAT,CAAwB,kBAAxB,CAAxB,CARoC,CASpC;;AACA,MAAMjB,MAAM,GAAGgB,QAAQ,CAACC,cAAT,CAAwB,QAAxB,CAAf,CAVoC,CAYpC;;AACA4B,EAAAA,eAAe,CAACC,YAAhB,CAA6BL,GAA7B,EAAkCzC,MAAlC,EAboC,CAepC;;AACA+C,EAAAA,UAAU,CAAC;AAAA,WAAM/B,QAAQ,CAACM,aAAT,CAAuB,QAAvB,EAAiC0B,MAAjC,EAAN;AAAA,GAAD,EAAkD,IAAlD,CAAV;AACH,EAED;;;AACA,SAASb,YAAT,CAAsBc,IAAtB,EAA4BC,KAA5B,EAAmC;AAC/B,MAAMC,SAAS,GAAGF,IAAI,CAACG,OAAL,CAAa,GAAb,EAAkBF,KAAlB,CAAlB;AACA,MAAGC,SAAS,IAAI,CAAC,CAAjB,EAAoB,OAAOF,IAAP;AACpB,SAAOA,IAAI,CAACI,SAAL,CAAe,CAAf,EAAkBF,SAAlB,CAAP;AACH","file":"redditproject.e31bb0bc.js","sourceRoot":"..","sourcesContent":["export default {\n    search: function(searchTerm, searchLimit,sortBy) {\n        //console.log('search....')\n        \n        return fetch(`https://www.reddit.com/search.json?q=${searchTerm}&sort=${sortBy}&limit=${searchLimit}`)\n        .then(res => res.json())\n        .then(data => data.data.children.map(data => data.data ))\n        .catch(err => console.log(err));\n    }\n};\n","import reddit from './redditapi'\n\nconst searchForm = document.getElementById('search-form');\nconst searchInput = document.getElementById('search-input');\n\n// Form Event Listner\nsearchForm.addEventListener('submit', e => \n{\n    //Get search term \n    const searchTerm = searchInput.value;\n    //console.log(searchTerm);\n    //Get sort\n    const sortBy = document.querySelector('input[name=\"sortby\"]:checked').value;\n    //console.log(sortBy);\n    //Get limit \n    const searchLimit = document.getElementById('limit').value;\n    //console.log(searchLimit);\n\n    //Check input \n    if(searchTerm === '') {\n        //Show message \n        showMessage('Please add a search term', 'alert-danger');\n    }\n\n    //Clear input \n    searchInput.value = '';\n\n    //Search Reddit\n    reddit.search(searchTerm, searchLimit, sortBy).then\n    (results => {\n            console.log(results);\n            let output = '<div class = \"card-columns\">';\n            //Loop through posts\n            results.forEach(post => {\n                //Check for image \n                const image = post.preview ? post.preview.images[0].source.url : 'https://www.slashgear.com/wp-content/uploads/2019/09/reddit_logo_main.jpg';\n                output += `\n                <div class=\"card\">\n                    <img class=\"card-img-top\" src=\"${image}\" alt=\"Card image cap\">\n                    <div class=\"card-body\">\n                        <h5 class=\"card-title\">${post.title}</h5>\n                            <p class=\"card-text\">${truncateText(post.selftext, 100)}</p>\n                            <a href=\"${post.url}\" target=_blank class=\"btn btn-primary\">Can't get enough?</a>\n                    </div>\n                </div>\n                `;\n            });\n            output += '</div>';\n            document.getElementById('results').innerHTML = output;\n        });\n\n    e.preventDefault();\n});\n\n//Show Message\n\nfunction showMessage(message, className){\n    //create div \n    const div = document.createElement('div');\n    //add classes\n    div.className = `alert ${className}`;\n    //add text \n    div.appendChild(document.createTextNode(message));\n    // Get parent container \n    const searchContainer = document.getElementById('search-container');\n    // Get search \n    const search = document.getElementById('search');\n\n    //Insert message \n    searchContainer.insertBefore(div, search);\n\n    //timeout alert\n    setTimeout(() => document.querySelector('.alert').remove(), 3000);\n}\n\n// Truncate Text \nfunction truncateText(text, limit) {\n    const shortened = text.indexOf(' ', limit);\n    if(shortened == -1) return text;\n    return text.substring(0, shortened);\n}"]}